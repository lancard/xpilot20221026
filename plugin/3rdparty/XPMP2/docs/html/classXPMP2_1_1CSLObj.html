<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>XPMP2: XPMP2::CSLObj Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">XPMP2
   </div>
   <div id="projectbrief">X-Plane multiplayer library 2 - using instancing</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceXPMP2.html">XPMP2</a></li><li class="navelem"><a class="el" href="classXPMP2_1_1CSLObj.html">CSLObj</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-static-methods">Static Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classXPMP2_1_1CSLObj-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">XPMP2::CSLObj Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>One <code>.obj</code> file of a CSL model (of which it can have multiple)  
 <a href="classXPMP2_1_1CSLObj.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="CSLModels_8h_source.html">CSLModels.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:acb2b1fe560b06a5ca38f5cfee833ad8d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXPMP2_1_1CSLObj.html#acb2b1fe560b06a5ca38f5cfee833ad8d">CSLObj</a> (const std::string &amp;_cslKey, const std::string &amp;_path)</td></tr>
<tr class="memdesc:acb2b1fe560b06a5ca38f5cfee833ad8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor doesn't do much.  <a href="classXPMP2_1_1CSLObj.html#acb2b1fe560b06a5ca38f5cfee833ad8d">More...</a><br /></td></tr>
<tr class="separator:acb2b1fe560b06a5ca38f5cfee833ad8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1d104257154bb734c041a847c60c400"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXPMP2_1_1CSLObj.html#ad1d104257154bb734c041a847c60c400">CSLObj</a> (<a class="el" href="classXPMP2_1_1CSLObj.html">CSLObj</a> &amp;&amp;o)=default</td></tr>
<tr class="memdesc:ad1d104257154bb734c041a847c60c400"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate standard move constructor.  <a href="classXPMP2_1_1CSLObj.html#ad1d104257154bb734c041a847c60c400">More...</a><br /></td></tr>
<tr class="separator:ad1d104257154bb734c041a847c60c400"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d5b4c0c3df53c982bd4d71e5e2a567d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classXPMP2_1_1CSLObj.html">CSLObj</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXPMP2_1_1CSLObj.html#a7d5b4c0c3df53c982bd4d71e5e2a567d">operator=</a> (<a class="el" href="classXPMP2_1_1CSLObj.html">CSLObj</a> &amp;&amp;o)=default</td></tr>
<tr class="separator:a7d5b4c0c3df53c982bd4d71e5e2a567d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9bb7a4f2f6109873e71f9ad07fe2c5f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXPMP2_1_1CSLObj.html#ac9bb7a4f2f6109873e71f9ad07fe2c5f">~CSLObj</a> ()</td></tr>
<tr class="memdesc:ac9bb7a4f2f6109873e71f9ad07fe2c5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor makes sure the XP object is removed, too.  <a href="classXPMP2_1_1CSLObj.html#ac9bb7a4f2f6109873e71f9ad07fe2c5f">More...</a><br /></td></tr>
<tr class="separator:ac9bb7a4f2f6109873e71f9ad07fe2c5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6956dba056d86013d1c7590e0b823b71"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceXPMP2.html#a8bb5e2fcaa8bb9cbc05e43039054ddd6">ObjLoadStateTy</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXPMP2_1_1CSLObj.html#a6956dba056d86013d1c7590e0b823b71">GetObjState</a> () const</td></tr>
<tr class="memdesc:a6956dba056d86013d1c7590e0b823b71"><td class="mdescLeft">&#160;</td><td class="mdescRight">State of the X-Plane object: Is it being loaded or available?  <a href="classXPMP2_1_1CSLObj.html#a6956dba056d86013d1c7590e0b823b71">More...</a><br /></td></tr>
<tr class="separator:a6956dba056d86013d1c7590e0b823b71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2480fb1a48d0e29b3cef3d9951e0e3b0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXPMP2_1_1CSLObj.html#a2480fb1a48d0e29b3cef3d9951e0e3b0">IsInvalid</a> () const</td></tr>
<tr class="memdesc:a2480fb1a48d0e29b3cef3d9951e0e3b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is invalid?  <a href="classXPMP2_1_1CSLObj.html#a2480fb1a48d0e29b3cef3d9951e0e3b0">More...</a><br /></td></tr>
<tr class="separator:a2480fb1a48d0e29b3cef3d9951e0e3b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8fd475060cc43e90df0b2a20ead80aa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXPMP2_1_1CSLObj.html#ae8fd475060cc43e90df0b2a20ead80aa">DetermineWhichObjToLoad</a> ()</td></tr>
<tr class="memdesc:ae8fd475060cc43e90df0b2a20ead80aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine which file to load and if we need a copied .obj file.  <a href="classXPMP2_1_1CSLObj.html#ae8fd475060cc43e90df0b2a20ead80aa">More...</a><br /></td></tr>
<tr class="separator:ae8fd475060cc43e90df0b2a20ead80aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa062bed425dd7d90a4ae36ac9f597661"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXPMP2_1_1CSLObj.html#aa062bed425dd7d90a4ae36ac9f597661">FetchVertOfsFromObjFile</a> () const</td></tr>
<tr class="memdesc:aa062bed425dd7d90a4ae36ac9f597661"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the obj file to calculate its vertical offset.  <a href="classXPMP2_1_1CSLObj.html#aa062bed425dd7d90a4ae36ac9f597661">More...</a><br /></td></tr>
<tr class="separator:aa062bed425dd7d90a4ae36ac9f597661"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f2ee19024e02803f2ea5206a11cd5c1"><td class="memItemLeft" align="right" valign="top">XPLMObjectRef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXPMP2_1_1CSLObj.html#a5f2ee19024e02803f2ea5206a11cd5c1">GetAndLoadObj</a> ()</td></tr>
<tr class="memdesc:a5f2ee19024e02803f2ea5206a11cd5c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load and return the underlying X-Plane objects.  <a href="classXPMP2_1_1CSLObj.html#a5f2ee19024e02803f2ea5206a11cd5c1">More...</a><br /></td></tr>
<tr class="separator:a5f2ee19024e02803f2ea5206a11cd5c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a888c28772c85f1f2fb6443bf9b74cc3b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXPMP2_1_1CSLObj.html#a888c28772c85f1f2fb6443bf9b74cc3b">Load</a> ()</td></tr>
<tr class="memdesc:a888c28772c85f1f2fb6443bf9b74cc3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts loading the XP object.  <a href="classXPMP2_1_1CSLObj.html#a888c28772c85f1f2fb6443bf9b74cc3b">More...</a><br /></td></tr>
<tr class="separator:a888c28772c85f1f2fb6443bf9b74cc3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0efcd937fc5e94929fb5570f52ec485"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXPMP2_1_1CSLObj.html#ab0efcd937fc5e94929fb5570f52ec485">Unload</a> ()</td></tr>
<tr class="memdesc:ab0efcd937fc5e94929fb5570f52ec485"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free up the object.  <a href="classXPMP2_1_1CSLObj.html#ab0efcd937fc5e94929fb5570f52ec485">More...</a><br /></td></tr>
<tr class="separator:ab0efcd937fc5e94929fb5570f52ec485"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5760c296ad0bfd930d10c3b32e00733"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXPMP2_1_1CSLObj.html#ad5760c296ad0bfd930d10c3b32e00733">NeedsObjCopy</a> () const</td></tr>
<tr class="memdesc:ad5760c296ad0bfd930d10c3b32e00733"><td class="mdescLeft">&#160;</td><td class="mdescRight">Will this object require copying the <code>.obj</code> file upon load?  <a href="classXPMP2_1_1CSLObj.html#ad5760c296ad0bfd930d10c3b32e00733">More...</a><br /></td></tr>
<tr class="separator:ad5760c296ad0bfd930d10c3b32e00733"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a81b4cbfb78ffe74015c0d399bd1b5c07"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXPMP2_1_1CSLObj.html#a81b4cbfb78ffe74015c0d399bd1b5c07">cslKey</a></td></tr>
<tr class="memdesc:a81b4cbfb78ffe74015c0d399bd1b5c07"><td class="mdescLeft">&#160;</td><td class="mdescRight">key of the CSL model this belongs to  <a href="classXPMP2_1_1CSLObj.html#a81b4cbfb78ffe74015c0d399bd1b5c07">More...</a><br /></td></tr>
<tr class="separator:a81b4cbfb78ffe74015c0d399bd1b5c07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adaa8ae3beb7eb2817e773d8f1ca7074b"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXPMP2_1_1CSLObj.html#adaa8ae3beb7eb2817e773d8f1ca7074b">path</a></td></tr>
<tr class="memdesc:adaa8ae3beb7eb2817e773d8f1ca7074b"><td class="mdescLeft">&#160;</td><td class="mdescRight">full path to the (potentially copied) <code>.obj</code> file  <a href="classXPMP2_1_1CSLObj.html#adaa8ae3beb7eb2817e773d8f1ca7074b">More...</a><br /></td></tr>
<tr class="separator:adaa8ae3beb7eb2817e773d8f1ca7074b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5eac34e66a7eb0c47542504c5f17f468"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXPMP2_1_1CSLObj.html#a5eac34e66a7eb0c47542504c5f17f468">pathOrig</a></td></tr>
<tr class="memdesc:a5eac34e66a7eb0c47542504c5f17f468"><td class="mdescLeft">&#160;</td><td class="mdescRight">full path to the original <code>.obj</code> file IF there is the need to create a copy upon load  <a href="classXPMP2_1_1CSLObj.html#a5eac34e66a7eb0c47542504c5f17f468">More...</a><br /></td></tr>
<tr class="separator:a5eac34e66a7eb0c47542504c5f17f468"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7b3ea626fa6a39a646aad1bd4265d39"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXPMP2_1_1CSLObj.html#af7b3ea626fa6a39a646aad1bd4265d39">texture</a></td></tr>
<tr class="memdesc:af7b3ea626fa6a39a646aad1bd4265d39"><td class="mdescLeft">&#160;</td><td class="mdescRight">texture file if defined, to be used in the TEXTURE line of the .obj file  <a href="classXPMP2_1_1CSLObj.html#af7b3ea626fa6a39a646aad1bd4265d39">More...</a><br /></td></tr>
<tr class="separator:af7b3ea626fa6a39a646aad1bd4265d39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaba22f8f8df46e5fd211ae9a2dd2f63c"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXPMP2_1_1CSLObj.html#aaba22f8f8df46e5fd211ae9a2dd2f63c">text_lit</a></td></tr>
<tr class="memdesc:aaba22f8f8df46e5fd211ae9a2dd2f63c"><td class="mdescLeft">&#160;</td><td class="mdescRight">texture_lit file if defined, to be used in the TEXTURE_LIT line of the .obj file  <a href="classXPMP2_1_1CSLObj.html#aaba22f8f8df46e5fd211ae9a2dd2f63c">More...</a><br /></td></tr>
<tr class="separator:aaba22f8f8df46e5fd211ae9a2dd2f63c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a9a1972bf881fd060977738e015fa8c60"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXPMP2_1_1CSLObj.html#a9a1972bf881fd060977738e015fa8c60">TriggerCopyAndReplace</a> ()</td></tr>
<tr class="memdesc:a9a1972bf881fd060977738e015fa8c60"><td class="mdescLeft">&#160;</td><td class="mdescRight">Trigger a separate thread to copy the .obj file if needed.  <a href="classXPMP2_1_1CSLObj.html#a9a1972bf881fd060977738e015fa8c60">More...</a><br /></td></tr>
<tr class="separator:a9a1972bf881fd060977738e015fa8c60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82f22311cdacd866763fc1d1a1d54890"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXPMP2_1_1CSLObj.html#a82f22311cdacd866763fc1d1a1d54890">SetCopyResult</a> (bool bResult)</td></tr>
<tr class="memdesc:a82f22311cdacd866763fc1d1a1d54890"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update with the result of the copy operation.  <a href="classXPMP2_1_1CSLObj.html#a82f22311cdacd866763fc1d1a1d54890">More...</a><br /></td></tr>
<tr class="separator:a82f22311cdacd866763fc1d1a1d54890"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af34c9c614d235711bcfd1ae3d2db200e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXPMP2_1_1CSLObj.html#af34c9c614d235711bcfd1ae3d2db200e">CopyAndReplace</a> ()</td></tr>
<tr class="memdesc:af34c9c614d235711bcfd1ae3d2db200e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform the copy-on-load functionality, replacing dataRefs and textures, expected to be called via std::async.  <a href="classXPMP2_1_1CSLObj.html#af34c9c614d235711bcfd1ae3d2db200e">More...</a><br /></td></tr>
<tr class="separator:af34c9c614d235711bcfd1ae3d2db200e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae54f72953bc0f950b22a0987d10da7b1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXPMP2_1_1CSLObj.html#ae54f72953bc0f950b22a0987d10da7b1">Invalidate</a> ()</td></tr>
<tr class="memdesc:ae54f72953bc0f950b22a0987d10da7b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Marks the CSL Model invalid in case object loading once failed.  <a href="classXPMP2_1_1CSLObj.html#ae54f72953bc0f950b22a0987d10da7b1">More...</a><br /></td></tr>
<tr class="separator:ae54f72953bc0f950b22a0987d10da7b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-methods"></a>
Static Protected Member Functions</h2></td></tr>
<tr class="memitem:acd2f13d2e67276830eb8065629f364fd"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXPMP2_1_1CSLObj.html#acd2f13d2e67276830eb8065629f364fd">SetOtherObjCopyResult</a> (bool bResult)</td></tr>
<tr class="memdesc:acd2f13d2e67276830eb8065629f364fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update <em>another</em> <a class="el" href="classXPMP2_1_1CSLObj.html" title="One .obj file of a CSL model (of which it can have multiple)">CSLObj</a> with the result of the copy operation.  <a href="classXPMP2_1_1CSLObj.html#acd2f13d2e67276830eb8065629f364fd">More...</a><br /></td></tr>
<tr class="separator:acd2f13d2e67276830eb8065629f364fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0cbc67f6de8f26994743293993b5ef0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXPMP2_1_1CSLObj.html#ac0cbc67f6de8f26994743293993b5ef0">XPObjLoadedCB</a> (XPLMObjectRef inObject, void *inRefcon)</td></tr>
<tr class="memdesc:ac0cbc67f6de8f26994743293993b5ef0"><td class="mdescLeft">&#160;</td><td class="mdescRight">callback function called when loading is done  <a href="classXPMP2_1_1CSLObj.html#ac0cbc67f6de8f26994743293993b5ef0">More...</a><br /></td></tr>
<tr class="separator:ac0cbc67f6de8f26994743293993b5ef0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a76e05bb02f70228f608775e1053a15bd"><td class="memItemLeft" align="right" valign="top">XPLMObjectRef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXPMP2_1_1CSLObj.html#a76e05bb02f70228f608775e1053a15bd">xpObj</a> = NULL</td></tr>
<tr class="memdesc:a76e05bb02f70228f608775e1053a15bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">The X-Plane object reference to the loaded model as requested with XPLMLoadObjectAsync.  <a href="classXPMP2_1_1CSLObj.html#a76e05bb02f70228f608775e1053a15bd">More...</a><br /></td></tr>
<tr class="separator:a76e05bb02f70228f608775e1053a15bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a337e15e999359196103d9a05ebd469d7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceXPMP2.html#a8bb5e2fcaa8bb9cbc05e43039054ddd6">ObjLoadStateTy</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXPMP2_1_1CSLObj.html#a337e15e999359196103d9a05ebd469d7">xpObjState</a> = <a class="el" href="namespaceXPMP2.html#a8bb5e2fcaa8bb9cbc05e43039054ddd6a9b7396fc5d8d83ba292249f39feb9343">OLS_UNAVAIL</a></td></tr>
<tr class="memdesc:a337e15e999359196103d9a05ebd469d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">State of the X-Plane object: Is it being loaded or available?  <a href="classXPMP2_1_1CSLObj.html#a337e15e999359196103d9a05ebd469d7">More...</a><br /></td></tr>
<tr class="separator:a337e15e999359196103d9a05ebd469d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>One <code>.obj</code> file of a CSL model (of which it can have multiple) </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="acb2b1fe560b06a5ca38f5cfee833ad8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb2b1fe560b06a5ca38f5cfee833ad8d">&#9670;&nbsp;</a></span>CSLObj() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">XPMP2::CSLObj::CSLObj </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>_cslKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>_path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor doesn't do much. </p>

</div>
</div>
<a id="ad1d104257154bb734c041a847c60c400"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1d104257154bb734c041a847c60c400">&#9670;&nbsp;</a></span>CSLObj() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">XPMP2::CSLObj::CSLObj </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classXPMP2_1_1CSLObj.html">CSLObj</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>o</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generate standard move constructor. </p>

</div>
</div>
<a id="ac9bb7a4f2f6109873e71f9ad07fe2c5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9bb7a4f2f6109873e71f9ad07fe2c5f">&#9670;&nbsp;</a></span>~CSLObj()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XPMP2::CSLObj::~CSLObj </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destructor makes sure the XP object is removed, too. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="af34c9c614d235711bcfd1ae3d2db200e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af34c9c614d235711bcfd1ae3d2db200e">&#9670;&nbsp;</a></span>CopyAndReplace()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool XPMP2::CSLObj::CopyAndReplace </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Perform the copy-on-load functionality, replacing dataRefs and textures, expected to be called via std::async. </p>

</div>
</div>
<a id="ae8fd475060cc43e90df0b2a20ead80aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8fd475060cc43e90df0b2a20ead80aa">&#9670;&nbsp;</a></span>DetermineWhichObjToLoad()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XPMP2::CSLObj::DetermineWhichObjToLoad </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine which file to load and if we need a copied .obj file. </p>
<ol type="1">
<li>Determine if we need to access a copied file at all<ol type="a">
<li>Compute that copied file name It will include one of the texture ids if texture replacement is involved It will always end on ".xpmp2.obj"</li>
<li>Test if that copied file already exists The actual copy operation will only be peformed upon load. </li>
</ol>
</li>
</ol>

</div>
</div>
<a id="aa062bed425dd7d90a4ae36ac9f597661"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa062bed425dd7d90a4ae36ac9f597661">&#9670;&nbsp;</a></span>FetchVertOfsFromObjFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float XPMP2::CSLObj::FetchVertOfsFromObjFile </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read the obj file to calculate its vertical offset. </p>
<p>The idea behind doing this is taken from the original libxplanemp implementation, particularly <code>XPMPMultiplayerCSLOffset.cpp: CslModelVertOffsetCalculator::findOffsetInObj8</code>: The vertices and lines defined in the file have coordinates, their outer edges define how much the aircraft would need to be lifted to make its lowest part (typically the gear) appear on the surfaces. So it searches for min/max values of vertical (y) coordinates. </p><dl class="section note"><dt>Note</dt><dd>I am not sure why the original code returns <code>-max</code> if <code>min &gt; 0</code>, my understanding would be to always return <code>-min</code> and don't need <code>max</code>. But I just hope that the original author knows better and I stick to it. </dd></dl>

</div>
</div>
<a id="a5f2ee19024e02803f2ea5206a11cd5c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f2ee19024e02803f2ea5206a11cd5c1">&#9670;&nbsp;</a></span>GetAndLoadObj()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XPLMObjectRef XPMP2::CSLObj::GetAndLoadObj </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load and return the underlying X-Plane objects. </p>
<dl class="section note"><dt>Note</dt><dd>Can return NULL while async load is underway! </dd></dl>

</div>
</div>
<a id="a6956dba056d86013d1c7590e0b823b71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6956dba056d86013d1c7590e0b823b71">&#9670;&nbsp;</a></span>GetObjState()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceXPMP2.html#a8bb5e2fcaa8bb9cbc05e43039054ddd6">ObjLoadStateTy</a> XPMP2::CSLObj::GetObjState </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>State of the X-Plane object: Is it being loaded or available? </p>

</div>
</div>
<a id="ae54f72953bc0f950b22a0987d10da7b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae54f72953bc0f950b22a0987d10da7b1">&#9670;&nbsp;</a></span>Invalidate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void XPMP2::CSLObj::Invalidate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Marks the CSL Model invalid in case object loading once failed. </p>

</div>
</div>
<a id="a2480fb1a48d0e29b3cef3d9951e0e3b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2480fb1a48d0e29b3cef3d9951e0e3b0">&#9670;&nbsp;</a></span>IsInvalid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool XPMP2::CSLObj::IsInvalid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Is invalid? </p>

</div>
</div>
<a id="a888c28772c85f1f2fb6443bf9b74cc3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a888c28772c85f1f2fb6443bf9b74cc3b">&#9670;&nbsp;</a></span>Load()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XPMP2::CSLObj::Load </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts loading the XP object. </p>
<p>Async load takes time. Maybe this object exists no longer when the load operaton returns. That's why we do not just pass <code>this</code> to the XPLMLoadObjectAsync() call, but a separate object, here a pair of copies of the id strings, by which we can try to find the object again in the callback <a class="el" href="classXPMP2_1_1CSLObj.html#ac0cbc67f6de8f26994743293993b5ef0" title="callback function called when loading is done">XPObjLoadedCB()</a>. </p>

</div>
</div>
<a id="ad5760c296ad0bfd930d10c3b32e00733"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5760c296ad0bfd930d10c3b32e00733">&#9670;&nbsp;</a></span>NeedsObjCopy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool XPMP2::CSLObj::NeedsObjCopy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Will this object require copying the <code>.obj</code> file upon load? </p>

</div>
</div>
<a id="a7d5b4c0c3df53c982bd4d71e5e2a567d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d5b4c0c3df53c982bd4d71e5e2a567d">&#9670;&nbsp;</a></span>operator=()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classXPMP2_1_1CSLObj.html">CSLObj</a>&amp; XPMP2::CSLObj::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classXPMP2_1_1CSLObj.html">CSLObj</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>o</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a82f22311cdacd866763fc1d1a1d54890"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82f22311cdacd866763fc1d1a1d54890">&#9670;&nbsp;</a></span>SetCopyResult()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void XPMP2::CSLObj::SetCopyResult </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bResult</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update with the result of the copy operation. </p>

</div>
</div>
<a id="acd2f13d2e67276830eb8065629f364fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd2f13d2e67276830eb8065629f364fd">&#9670;&nbsp;</a></span>SetOtherObjCopyResult()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void XPMP2::CSLObj::SetOtherObjCopyResult </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bResult</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update <em>another</em> <a class="el" href="classXPMP2_1_1CSLObj.html" title="One .obj file of a CSL model (of which it can have multiple)">CSLObj</a> with the result of the copy operation. </p>

</div>
</div>
<a id="a9a1972bf881fd060977738e015fa8c60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a1972bf881fd060977738e015fa8c60">&#9670;&nbsp;</a></span>TriggerCopyAndReplace()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool XPMP2::CSLObj::TriggerCopyAndReplace </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Trigger a separate thread to copy the .obj file if needed. </p>
<dl class="section return"><dt>Returns</dt><dd>true when copying has finished, false if the loading sequence needs to wait here (for the copy operation to start or finish) </dd></dl>

</div>
</div>
<a id="ab0efcd937fc5e94929fb5570f52ec485"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0efcd937fc5e94929fb5570f52ec485">&#9670;&nbsp;</a></span>Unload()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XPMP2::CSLObj::Unload </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free up the object. </p>

</div>
</div>
<a id="ac0cbc67f6de8f26994743293993b5ef0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0cbc67f6de8f26994743293993b5ef0">&#9670;&nbsp;</a></span>XPObjLoadedCB()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void XPMP2::CSLObj::XPObjLoadedCB </td>
          <td>(</td>
          <td class="paramtype">XPLMObjectRef&#160;</td>
          <td class="paramname"><em>inObject</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>inRefcon</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>callback function called when loading is done </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a81b4cbfb78ffe74015c0d399bd1b5c07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81b4cbfb78ffe74015c0d399bd1b5c07">&#9670;&nbsp;</a></span>cslKey</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string XPMP2::CSLObj::cslKey</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>key of the CSL model this belongs to </p>

</div>
</div>
<a id="adaa8ae3beb7eb2817e773d8f1ca7074b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adaa8ae3beb7eb2817e773d8f1ca7074b">&#9670;&nbsp;</a></span>path</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string XPMP2::CSLObj::path</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>full path to the (potentially copied) <code>.obj</code> file </p>

</div>
</div>
<a id="a5eac34e66a7eb0c47542504c5f17f468"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5eac34e66a7eb0c47542504c5f17f468">&#9670;&nbsp;</a></span>pathOrig</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string XPMP2::CSLObj::pathOrig</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>full path to the original <code>.obj</code> file IF there is the need to create a copy upon load </p>

</div>
</div>
<a id="aaba22f8f8df46e5fd211ae9a2dd2f63c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaba22f8f8df46e5fd211ae9a2dd2f63c">&#9670;&nbsp;</a></span>text_lit</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string XPMP2::CSLObj::text_lit</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>texture_lit file if defined, to be used in the TEXTURE_LIT line of the .obj file </p>

</div>
</div>
<a id="af7b3ea626fa6a39a646aad1bd4265d39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7b3ea626fa6a39a646aad1bd4265d39">&#9670;&nbsp;</a></span>texture</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string XPMP2::CSLObj::texture</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>texture file if defined, to be used in the TEXTURE line of the .obj file </p>

</div>
</div>
<a id="a76e05bb02f70228f608775e1053a15bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76e05bb02f70228f608775e1053a15bd">&#9670;&nbsp;</a></span>xpObj</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">XPLMObjectRef XPMP2::CSLObj::xpObj = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The X-Plane object reference to the loaded model as requested with XPLMLoadObjectAsync. </p>

</div>
</div>
<a id="a337e15e999359196103d9a05ebd469d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a337e15e999359196103d9a05ebd469d7">&#9670;&nbsp;</a></span>xpObjState</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceXPMP2.html#a8bb5e2fcaa8bb9cbc05e43039054ddd6">ObjLoadStateTy</a> XPMP2::CSLObj::xpObjState = <a class="el" href="namespaceXPMP2.html#a8bb5e2fcaa8bb9cbc05e43039054ddd6a9b7396fc5d8d83ba292249f39feb9343">OLS_UNAVAIL</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>State of the X-Plane object: Is it being loaded or available? </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="CSLModels_8h_source.html">CSLModels.h</a></li>
<li>src/<a class="el" href="CSLCopy_8cpp.html">CSLCopy.cpp</a></li>
<li>src/<a class="el" href="CSLModels_8cpp.html">CSLModels.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
